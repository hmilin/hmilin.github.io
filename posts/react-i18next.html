<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Meiling&#x27;s Blog</title><meta name="description" content="meiling的博客"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/275b2a15ad29278d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/275b2a15ad29278d.css" data-n-g=""/><link rel="preload" href="/_next/static/css/be3b6285a2614a27.css" as="style"/><link rel="stylesheet" href="/_next/static/css/be3b6285a2614a27.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-a85322f027b40e20.js" defer=""></script><script src="/_next/static/chunks/main-6c11f3d61c45c1c1.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ab4c043ec570de8c.js" defer=""></script><script src="/_next/static/chunks/196-32419b2dc902ac8d.js" defer=""></script><script src="/_next/static/chunks/927-f194a212e80173e6.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-ff83de698e35108e.js" defer=""></script><script src="/_next/static/2XlT3rGw8n9OHW1k7dVgT/_buildManifest.js" defer=""></script><script src="/_next/static/2XlT3rGw8n9OHW1k7dVgT/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_container__XDtoS"><header class="Header_header__aO32P"><div class="Header_mobileNav__x8dOm"><div class="Header_menuIcon__zsaJW"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M120-240v-80h720v80zm0-200v-80h720v80zm0-200v-80h720v80z"></path></svg></div><a class="Header_searchBtn__DiCC5" href="/search"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580t75.5-184.5T380-840t184.5 75.5T640-580q0 44-14 83t-38 69l252 252zM380-400q75 0 127.5-52.5T560-580t-52.5-127.5T380-760t-127.5 52.5T200-580t52.5 127.5T380-400"></path></svg></a></div><nav class="Header_nav__wk8Zc"><div class="Header_closeIcon__TBNuf"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224z"></path></svg></div><a class="Header_searchBtn__DiCC5" href="/search"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580t75.5-184.5T380-840t184.5 75.5T640-580q0 44-14 83t-38 69l252 252zM380-400q75 0 127.5-52.5T560-580t-52.5-127.5T380-760t-127.5 52.5T200-580t52.5 127.5T380-400"></path></svg></a><a class="" href="/"><div class="Header_icon__SYetk"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M200-160v-366L88-440l-48-64 440-336 160 122v-82h120v174l160 122-48 64-112-86v366H520v-240h-80v240zm80-80h80v-240h240v240h80v-347L480-739 280-587zm120-319h160q0-32-24-52.5T480-632t-56 20.5-24 52.5m-40 319v-240h240v240-240H360z"></path></svg></div><div class="Header_title__BTC6R">首页</div></a><a class="" href="/category/native"><div class="Header_icon__SYetk"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M200-640v440h560v-440H640v320l-160-80-160 80v-320zm0 520q-33 0-56.5-23.5T120-200v-499q0-14 4.5-27t13.5-24l50-61q11-14 27.5-21.5T250-840h460q18 0 34.5 7.5T772-811l50 61q9 11 13.5 24t4.5 27v499q0 33-23.5 56.5T760-120zm16-600h528l-34-40H250zm184 80v190l80-40 80 40v-190zm-200 0h560z"></path></svg></div><div class="Header_title__BTC6R">原生基础</div></a><a class="" href="/category/framework"><div class="Header_icon__SYetk"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M400-400h160v-80H400zm0-120h320v-80H400zm0-120h320v-80H400zm-80 400q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240zm0-80h480v-480H320zM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80zm160-720v480z"></path></svg></div><div class="Header_title__BTC6R">框架相关</div></a><a class="" href="/category/tool"><div class="Header_icon__SYetk"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="m620-284 56-56q6-6 6-14t-6-14L540-505q4-11 6-22t2-25q0-57-40.5-97.5T410-690q-17 0-34 4.5T343-673l94 94-56 56-94-94q-8 16-12.5 33t-4.5 34q0 57 40.5 97.5T408-412q13 0 24.5-2t22.5-6l137 136q6 6 14 6t14-6M480-80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"></path></svg></div><div class="Header_title__BTC6R">工具使用</div></a><a class="" href="/about"><div class="Header_icon__SYetk"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M360-390q-21 0-35.5-14.5T310-440t14.5-35.5T360-490t35.5 14.5T410-440t-14.5 35.5T360-390m240 0q-21 0-35.5-14.5T550-440t14.5-35.5T600-490t35.5 14.5T650-440t-14.5 35.5T600-390M480-160q134 0 227-93t93-227q0-24-3-46.5T786-570q-21 5-42 7.5t-44 2.5q-91 0-172-39T390-708q-32 78-91.5 135.5T160-486v6q0 134 93 227t227 93m0 80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m-54-715q42 70 114 112.5T700-640q14 0 27-1.5t27-3.5q-42-70-114-112.5T480-800q-14 0-27 1.5t-27 3.5M177-581q51-29 89-75t57-103q-51 29-89 75t-57 103m146-178"></path></svg></div><div class="Header_title__BTC6R">关于</div></a></nav></header><div><main><div class="Layout_cover__vC5GW"><div><h1>使用react-i18next进行国际化配置</h1><p>在react的应用中如何进行国际化配置，并适配多种使用场景以及开发体验的提升</p><div>2024-07-25 19:03:00</div></div></div><div class="content-container"><h1>使用react-i18next进行国际化配置</h1>
<p>本文记录了如何<code>react-i18next</code>的基础配置、跟typescript的结合使用、在组件内外的使用和如何通过自定义脚本来提高翻译文本输出。</p>
<h2>基础使用</h2>
<ol>
<li>安装 <code>i18next</code> 和 <code>react-i18next</code></li>
<li>在<code>src</code>目录下创建<code>i18n.ts</code>文件，并创建<code>locales</code>目录来存放不同语言对应的翻译</li>
</ol>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">import</span><span> { setValidateLanguage } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;@formily/core&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> i18n </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;i18next&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> { initReactI18next } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;react-i18next&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> en </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;./locales/en/translation.json&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> zh </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;./locales/zh/translation.json&#x27;</span><span>;
</span>
<span></span><span style="color:#b48ead">const</span><span> defaultLg = </span><span style="color:#d08770">localStorage</span><span>.getItem(</span><span style="color:#a3be8c">&#x27;locale&#x27;</span><span>) || </span><span style="color:#a3be8c">&#x27;zh-CN&#x27;</span><span>;
</span>i18n.use(initReactI18next).init({
<span>  </span><span class="hljs-attr">fallbackLng</span><span>: defaultLg,
</span><span>  </span><span class="hljs-attr">debug</span><span>: </span><span style="color:#d08770">true</span><span>,
</span><span>  </span><span class="hljs-attr">interpolation</span><span>: {
</span><span>    </span><span class="hljs-attr">escapeValue</span><span>: </span><span style="color:#d08770">false</span><span>, </span><span style="color:#65737e">// not needed for react as it escapes by default</span><span>
</span>  },
<span>  </span><span class="hljs-attr">resources</span><span>: {
</span><span>    </span><span style="color:#a3be8c">&#x27;en-US&#x27;</span><span>: {
</span><span>      </span><span class="hljs-attr">translation</span><span>: en,
</span>    },
<span>    </span><span style="color:#a3be8c">&#x27;zh-CN&#x27;</span><span>: {
</span><span>      </span><span class="hljs-attr">translation</span><span>: zh,
</span>    },
<!-- -->  },
<!-- -->});
<!-- -->
<span></span><span style="color:#b48ead">export</span><span> </span><span style="color:#b48ead">default</span><span> i18n;
</span></code></pre>
<p>并在<code>App.tsx</code>中导入</p>
<ol start="3">
<li>定义语言切换组件，通过调用<code>i18n</code>实例下的<code>changeLanguage</code>方法来切换语言，并使用<code>localStorage</code>来持久化数据</li>
</ol>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">import</span><span> { TranslationOutlined } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;@ant-design/icons&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> { Dropdown } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;antd&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> { useTranslation } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;react-i18next&#x27;</span><span>;
</span>
<span></span><span style="color:#b48ead">const</span><span> items = [
</span>  {
<span>    </span><span class="hljs-attr">key</span><span>: </span><span style="color:#a3be8c">&#x27;en-US&#x27;</span><span>,
</span><span>    </span><span class="hljs-attr">label</span><span>: </span><span style="color:#a3be8c">&#x27;English&#x27;</span><span>,
</span>  },
<!-- -->  {
<span>    </span><span class="hljs-attr">key</span><span>: </span><span style="color:#a3be8c">&#x27;zh-CN&#x27;</span><span>,
</span><span>    </span><span class="hljs-attr">label</span><span>: </span><span style="color:#a3be8c">&#x27;中文&#x27;</span><span>,
</span>  },
<!-- -->];
<!-- -->
<span></span><span style="color:#b48ead">interface</span><span> LanguageChangerProps {}
</span>
<span></span><span style="color:#b48ead">const</span><span> LanguageChanger: React.FC&lt;LanguageChangerProps&gt; = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span>  </span><span style="color:#b48ead">const</span><span> { i18n } = useTranslation();
</span>
<span>  </span><span style="color:#b48ead">const</span><span> handleChange = </span><span class="hljs-function">(</span><span class="hljs-function" style="color:#d08770">key: </span><span class="hljs-function" style="color:#d08770">string</span><span class="hljs-function">) =&gt;</span><span> {
</span>    i18n.changeLanguage(key);
<span>    </span><span style="color:#d08770">localStorage</span><span>.setItem(</span><span style="color:#a3be8c">&#x27;locale&#x27;</span><span>, key);
</span>  };
<!-- -->
<span>  </span><span style="color:#b48ead">return</span><span> (
</span><span>    </span><span class="xml" style="color:#bf616a">&lt;</span><span class="xml" style="color:#bf616a">Dropdown</span><span class="xml" style="color:#bf616a">
</span><span class="xml" style="color:#bf616a">      </span><span class="xml hljs-attr" style="color:#bf616a">menu</span><span class="xml" style="color:#bf616a">=</span><span class="xml" style="color:#a3be8c">{{</span><span class="xml" style="color:#bf616a">
</span><span class="xml" style="color:#bf616a">        </span><span class="xml hljs-attr" style="color:#bf616a">items</span><span class="xml" style="color:#bf616a">,
</span><span class="xml" style="color:#bf616a">        </span><span class="xml hljs-attr" style="color:#bf616a">selectedKeys:</span><span class="xml" style="color:#bf616a"> [</span><span class="xml hljs-attr" style="color:#bf616a">i18n.language</span><span class="xml" style="color:#bf616a">],
</span><span class="xml" style="color:#bf616a">        </span><span class="xml hljs-attr" style="color:#bf616a">onClick:</span><span class="xml" style="color:#bf616a"> ({ </span><span class="xml hljs-attr" style="color:#bf616a">key</span><span class="xml" style="color:#bf616a"> }) =&gt;</span><span class="xml"> handleChange(key),
</span><span class="xml">      }}
</span><span class="xml">    &gt;
</span><span class="xml">      </span><span class="xml" style="color:#bf616a">&lt;</span><span class="xml" style="color:#bf616a">div</span><span class="xml" style="color:#bf616a"> </span><span class="xml hljs-attr" style="color:#bf616a">className</span><span class="xml" style="color:#bf616a">=</span><span class="xml" style="color:#a3be8c">&quot;header-item&quot;</span><span class="xml" style="color:#bf616a">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#bf616a">&lt;</span><span class="xml" style="color:#bf616a">TranslationOutlined</span><span class="xml" style="color:#bf616a"> /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#bf616a">&lt;/</span><span class="xml" style="color:#bf616a">div</span><span class="xml" style="color:#bf616a">&gt;</span><span class="xml">
</span><span class="xml">    </span><span class="xml" style="color:#bf616a">&lt;/</span><span class="xml" style="color:#bf616a">Dropdown</span><span class="xml" style="color:#bf616a">&gt;</span><span>
</span>  );
<!-- -->};
<!-- -->
<span></span><span style="color:#b48ead">export</span><span> </span><span style="color:#b48ead">default</span><span> LanguageChanger;
</span>
</code></pre>
<ol start="4">
<li>通过translation文件中对应的key来使用，考虑到随着业务的新增翻译配置会越来越多，提前将配置进行分组</li>
</ol>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span>{
</span><span>  </span><span style="color:#65737e">// 全局公共配置</span><span>
</span><span>  </span><span class="hljs-attr">&quot;global&quot;</span><span>: {
</span><span>     </span><span style="color:#65737e">// 页面导航</span><span>
</span><span>    </span><span class="hljs-attr">&quot;pages&quot;</span><span>: {},
</span><span>    </span><span style="color:#65737e">// 基础公共配置</span><span>
</span><span>    </span><span class="hljs-attr">&quot;common&quot;</span><span>: {
</span><span>      </span><span class="hljs-attr">&quot;confirmTitle&quot;</span><span>: </span><span style="color:#a3be8c">&quot;确认&quot;</span><span>
</span>    },
<span>    </span><span style="color:#65737e">// 模板</span><span>
</span><span>    </span><span class="hljs-attr">&quot;templates&quot;</span><span>: {
</span><span>      </span><span class="hljs-attr">&quot;remove_confirm&quot;</span><span>: </span><span style="color:#a3be8c">&quot;确定删除{{target}} &lt;strong&gt;{{name}}&lt;/strong&gt;？&quot;</span><span>
</span>    },
<span>    </span><span style="color:#65737e">// 提示语</span><span>
</span><span>    </span><span class="hljs-attr">&quot;messages&quot;</span><span>: {
</span><span>      </span><span class="hljs-attr">&quot;remove_successful&quot;</span><span>: </span><span style="color:#a3be8c">&quot;删除成功！&quot;</span><span>,
</span><span>      </span><span class="hljs-attr">&quot;save_successful&quot;</span><span>: </span><span style="color:#a3be8c">&quot;保存成功！&quot;</span><span>
</span>    }
<!-- -->  },
<span>  </span><span style="color:#65737e">//根据业务对象进行分类</span><span>
</span><span>  </span><span class="hljs-attr">&quot;users&quot;</span><span>: {},
</span><span>  </span><span class="hljs-attr">&quot;projects&quot;</span><span>: {},
</span>}
</code></pre>
<h2>Typescript配置实现提示</h2>
<p>经过以上配置后，我们就可以通过上面配置的key来使用国际化文本，比如在组件中调用<code>useTranslation</code>API返回的t方法来获取文本</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span> </span><span style="color:#b48ead">const</span><span> { t } = useTranslation();
</span><span> </span><span style="color:#b48ead">return</span><span> t(</span><span style="color:#a3be8c">&#x27;global.common.hello&#x27;</span><span>)
</span></code></pre>
<p><code>react-i18next</code>支持通过ts的类型配置来实现提示</p>
<ol>
<li>在src/@types下目录下建立resources.ts，导入主语言的配置</li>
</ol>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">import</span><span> translation </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;../locales/zh/translation.json&#x27;</span><span>;
</span>
<span></span><span style="color:#b48ead">const</span><span> resources = {
</span>  translation,
<span>} </span><span style="color:#b48ead">as</span><span> </span><span style="color:#b48ead">const</span><span>;
</span>
<span></span><span style="color:#b48ead">export</span><span> </span><span style="color:#b48ead">default</span><span> resources;
</span></code></pre>
<ol start="2">
<li>在src/@types下目录下建立i18next.d.ts，并添加以下配置：</li>
</ol>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">import</span><span> resources </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;./resources&#x27;</span><span>;
</span>
<span>declare </span><span style="color:#d08770">module</span><span> </span><span style="color:#a3be8c">&#x27;i18next&#x27;</span><span> {
</span>  interface CustomTypeOptions {
<span>    </span><span class="hljs-attr">resources</span><span>: </span><span style="color:#b48ead">typeof</span><span> resources;
</span>  }
<!-- -->}
</code></pre>
<p>再次调用t方法时，就能看见类型的提示了。</p>
<h2>在多种场景下的使用方式</h2>
<ol>
<li>在组件中使用</li>
</ol>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">const</span><span> { t } = useTranslation();
</span><span>t(</span><span style="color:#a3be8c">&#x27;global.common.hello&#x27;</span><span>)
</span></code></pre>
<ol start="2">
<li>在组件外使用</li>
</ol>
<p>在组件作用域外的文本，可以调用Translation组件来使用，为了方便调用可以封装以下组件</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">import</span><span> </span><span style="color:#b48ead">type</span><span> { KeyPrefix } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;i18next&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> { Translation </span><span style="color:#b48ead">as</span><span> TranslationBase } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;react-i18next&#x27;</span><span>;
</span>
<span></span><span style="color:#b48ead">type</span><span> Keys = KeyPrefix&lt;</span><span style="color:#a3be8c">&#x27;translation&#x27;</span><span>&gt;;
</span>
<span></span><span style="color:#b48ead">interface</span><span> TranslationProps {
</span><span>  </span><span class="hljs-attr">token</span><span>: Keys;
</span>}
<!-- -->
<span></span><span style="color:#b48ead">const</span><span> Translation: React.FC&lt;TranslationProps&gt; = </span><span class="hljs-function">(</span><span class="hljs-function" style="color:#d08770">{ token }</span><span class="hljs-function">) =&gt;</span><span> {
</span><span>  </span><span style="color:#b48ead">return</span><span> </span><span class="xml" style="color:#bf616a">&lt;</span><span class="xml" style="color:#bf616a">TranslationBase</span><span class="xml" style="color:#bf616a">&gt;</span><span class="xml">{(t) =&gt; t(token as unknown as any)}</span><span class="xml" style="color:#bf616a">&lt;/</span><span class="xml" style="color:#bf616a">TranslationBase</span><span class="xml" style="color:#bf616a">&gt;</span><span>;
</span>};
<!-- -->
<span></span><span style="color:#b48ead">export</span><span> </span><span style="color:#b48ead">default</span><span> Translation;
</span>
</code></pre>
<p>使用如下：</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">const</span><span> orderOptions = [
</span>  {
<span>    </span><span class="hljs-attr">label</span><span>: </span><span class="xml" style="color:#bf616a">&lt;</span><span class="xml" style="color:#bf616a">Translation</span><span class="xml" style="color:#bf616a"> </span><span class="xml hljs-attr" style="color:#bf616a">token</span><span class="xml" style="color:#bf616a">=</span><span class="xml" style="color:#a3be8c">&quot;global.common.updateTime&quot;</span><span class="xml" style="color:#bf616a"> /&gt;</span><span>,
</span><span>    value: </span><span style="color:#a3be8c">&#x27;modify_time&#x27;</span><span>,
</span>  },
<!-- -->  {
<span>    </span><span class="hljs-attr">label</span><span>: </span><span class="xml" style="color:#bf616a">&lt;</span><span class="xml" style="color:#bf616a">Translation</span><span class="xml" style="color:#bf616a"> </span><span class="xml hljs-attr" style="color:#bf616a">token</span><span class="xml" style="color:#bf616a">=</span><span class="xml" style="color:#a3be8c">&quot;global.common.createTime&quot;</span><span class="xml" style="color:#bf616a"> /&gt;</span><span>,
</span><span>    value: </span><span style="color:#a3be8c">&#x27;create_time&#x27;</span><span>,
</span>  },
<!-- -->];
</code></pre>
<ol start="3">
<li>结合模板使用Tran组件</li>
</ol>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span>&lt;Trans i18nKey=</span><span style="color:#a3be8c">&quot;global.template.remove_confirm&quot;</span><span>&gt;
</span><span>  {{ </span><span class="hljs-attr">target</span><span>: t(</span><span style="color:#a3be8c">&#x27;applications.title&#x27;</span><span>) }}
</span><span>  {{ </span><span class="hljs-attr">name</span><span>: card.k8sName }}
</span>&lt;/Trans&gt;
</code></pre>
<h2>结合<code>google翻译</code>实现自动化翻译脚本</h2>
<p>由于一些复杂的翻译需要用到翻译软件辅助，但翻译过后仍需人工调整，一些词性差异和专有名词翻译软件并不能完全准确翻译，因此最适合的自动化方法是编写一个脚本将未翻译的字段翻译并填写到对应文件中，再进行人工修正</p>
<p>安装<code>@vitalets/google-translate-api</code>插件，通过插件来调用google翻译的API</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">import</span><span> { translate } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;@vitalets/google-translate-api&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> fs </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;fs&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> { HttpProxyAgent } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;http-proxy-agent&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> zhText </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;../locales/zh/translation.json&#x27;</span><span> assert  { </span><span class="hljs-attr">type</span><span>: </span><span style="color:#a3be8c">&quot;json&quot;</span><span> };
</span><span></span><span style="color:#b48ead">import</span><span> enText </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;../locales/en/translation.json&#x27;</span><span> assert  { </span><span class="hljs-attr">type</span><span>: </span><span style="color:#a3be8c">&quot;json&quot;</span><span> };
</span><span></span><span style="color:#b48ead">import</span><span> { get } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;lodash-es&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> { set } </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;lodash-es&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">import</span><span> path </span><span style="color:#b48ead">from</span><span> </span><span style="color:#a3be8c">&#x27;path&#x27;</span><span>;
</span>
<span></span><span style="color:#b48ead">const</span><span> enFilePath = path.resolve(</span><span style="color:#a3be8c">&#x27;./src/locales/en/translation.json&#x27;</span><span>);
</span>
<span></span><span style="color:#b48ead">const</span><span> args = process.argv.slice(</span><span style="color:#d08770">2</span><span>);
</span><span></span><span style="color:#b48ead">const</span><span> proxy = args[</span><span style="color:#d08770">0</span><span>]?.match(</span><span style="color:#bf616a">/(?&lt;=proxy=).*/</span><span>)[</span><span style="color:#d08770">0</span><span>] || </span><span style="color:#a3be8c">&#x27;http://127.0.0.1:7890&#x27;</span><span>;
</span><span></span><span style="color:#b48ead">const</span><span> timeoutMs = </span><span style="color:#d08770">5000</span><span>;
</span>
<span></span><span style="color:#b48ead">async</span><span> </span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">translateText</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#d08770">sourceText, to</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#b48ead">const</span><span> ac = </span><span style="color:#b48ead">new</span><span> AbortController();
</span><span>  </span><span style="color:#b48ead">const</span><span> timer = </span><span style="color:#d08770">setTimeout</span><span>(</span><span class="hljs-function">() =&gt;</span><span> ac.abort(), timeoutMs);
</span><span>  </span><span style="color:#b48ead">const</span><span> fetchOptions = {
</span><span>    </span><span class="hljs-attr">agent</span><span>: </span><span style="color:#b48ead">new</span><span> HttpProxyAgent(proxy),
</span><span>    </span><span class="hljs-attr">signal</span><span>: ac.signal,
</span>  };
<span>  </span><span style="color:#b48ead">try</span><span> {
</span><span>    </span><span style="color:#b48ead">const</span><span> { text } = </span><span style="color:#b48ead">await</span><span> translate(sourceText, { fetchOptions, to, });
</span><span>    </span><span style="color:#b48ead">return</span><span> text
</span><span>  } </span><span style="color:#b48ead">finally</span><span> {
</span><span>    </span><span style="color:#d08770">clearTimeout</span><span>(timer);
</span>  }
<!-- -->}
<!-- -->
<span></span><span style="color:#b48ead">async</span><span> </span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">traverseTexts</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#d08770">translations, key = </span><span class="hljs-function" style="color:#a3be8c">&#x27;&#x27;</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#b48ead">for</span><span> (</span><span style="color:#b48ead">const</span><span> k </span><span style="color:#b48ead">in</span><span> translations) {
</span><span>    </span><span style="color:#b48ead">const</span><span> value = translations[k]
</span><span>    </span><span style="color:#b48ead">const</span><span> fullKey = </span><span style="color:#a3be8c">`</span><span class="hljs-subst" style="color:#a3be8c">${key ? </span><span class="hljs-subst" style="color:#a3be8c">`</span><span class="hljs-subst" style="color:#a3be8c">${key}</span><span class="hljs-subst" style="color:#a3be8c">.`</span><span class="hljs-subst" style="color:#a3be8c"> : </span><span class="hljs-subst" style="color:#a3be8c">&#x27;&#x27;</span><span class="hljs-subst" style="color:#a3be8c">}</span><span class="hljs-subst" style="color:#a3be8c">${k}</span><span style="color:#a3be8c">`</span><span>
</span><span>    </span><span style="color:#b48ead">if</span><span> (</span><span style="color:#b48ead">typeof</span><span> value === </span><span style="color:#a3be8c">&#x27;string&#x27;</span><span>) {
</span><span>      </span><span style="color:#65737e">// 只翻译新增的配置</span><span>
</span><span>      </span><span style="color:#b48ead">if</span><span> (get(enText, fullKey) !== </span><span style="color:#b48ead">void</span><span> </span><span style="color:#d08770">0</span><span>) {
</span><span>        </span><span style="color:#b48ead">continue</span><span>
</span>      }
<span>      </span><span style="color:#d08770">console</span><span>.log(</span><span style="color:#a3be8c">&#x27;translating:&#x27;</span><span>, value)
</span><span>      </span><span style="color:#b48ead">const</span><span> translated = </span><span style="color:#b48ead">await</span><span> translateText(value, </span><span style="color:#a3be8c">&#x27;en&#x27;</span><span>)
</span>      set(enText, fullKey, translated)
<span>    } </span><span style="color:#b48ead">else</span><span> {
</span><span>      </span><span style="color:#b48ead">await</span><span> traverseTexts(value, fullKey)
</span>    }
<!-- -->  }
<!-- -->}
<!-- -->
<span></span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">saveEnTexts</span><span class="hljs-function">(</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#b48ead">const</span><span> jsonContent = </span><span style="color:#d08770">JSON</span><span>.stringify(enText, </span><span style="color:#d08770">null</span><span>, </span><span style="color:#d08770">2</span><span>);
</span><span>  fs.writeFileSync(enFilePath, jsonContent, </span><span style="color:#a3be8c">&#x27;utf8&#x27;</span><span>);
</span><span>  </span><span style="color:#d08770">console</span><span>.log(</span><span style="color:#a3be8c">&#x27;Translation completed and saved to locales/en/translation.json&#x27;</span><span>);
</span>}
<!-- -->
<span></span><span style="color:#b48ead">await</span><span> traverseTexts(zhText)
</span>saveEnTexts()
</code></pre>
<p>在<code>package.json</code>中添加script<code>&quot;auto-translate&quot;: &quot;node ./src/locales/translate.js&quot;</code></p>
<p>在批量新增中文文本之后，执行<code>npm run auto-translate</code>即可自动填补缺漏的英文配置，可通过<code>--proxy=</code>来指定本地代理地址。</p></div><div class="content-container"></div></main><footer class="grid place-items-center pb-4"><a href="https://github.com/hmilin" target="_blank" rel="noreferrer noopener">😘Github</a></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    code: \"code\",\n    h2: \"h2\",\n    ol: \"ol\",\n    li: \"li\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"使用react-i18next进行国际化配置\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"本文记录了如何\", _jsx(_components.code, {\n        children: \"react-i18next\"\n      }), \"的基础配置、跟typescript的结合使用、在组件内外的使用和如何通过自定义脚本来提高翻译文本输出。\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"基础使用\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"安装 \", _jsx(_components.code, {\n          children: \"i18next\"\n        }), \" 和 \", _jsx(_components.code, {\n          children: \"react-i18next\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"在\", _jsx(_components.code, {\n          children: \"src\"\n        }), \"目录下创建\", _jsx(_components.code, {\n          children: \"i18n.ts\"\n        }), \"文件，并创建\", _jsx(_components.code, {\n          children: \"locales\"\n        }), \"目录来存放不同语言对应的翻译\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \"import { setValidateLanguage } from '@formily/core';\\nimport i18n from 'i18next';\\nimport { initReactI18next } from 'react-i18next';\\nimport en from './locales/en/translation.json';\\nimport zh from './locales/zh/translation.json';\\n\\nconst defaultLg = localStorage.getItem('locale') || 'zh-CN';\\ni18n.use(initReactI18next).init({\\n  fallbackLng: defaultLg,\\n  debug: true,\\n  interpolation: {\\n    escapeValue: false, // not needed for react as it escapes by default\\n  },\\n  resources: {\\n    'en-US': {\\n      translation: en,\\n    },\\n    'zh-CN': {\\n      translation: zh,\\n    },\\n  },\\n});\\n\\nexport default i18n;\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"并在\", _jsx(_components.code, {\n        children: \"App.tsx\"\n      }), \"中导入\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"定义语言切换组件，通过调用\", _jsx(_components.code, {\n          children: \"i18n\"\n        }), \"实例下的\", _jsx(_components.code, {\n          children: \"changeLanguage\"\n        }), \"方法来切换语言，并使用\", _jsx(_components.code, {\n          children: \"localStorage\"\n        }), \"来持久化数据\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \"import { TranslationOutlined } from '@ant-design/icons';\\nimport { Dropdown } from 'antd';\\nimport { useTranslation } from 'react-i18next';\\n\\nconst items = [\\n  {\\n    key: 'en-US',\\n    label: 'English',\\n  },\\n  {\\n    key: 'zh-CN',\\n    label: '中文',\\n  },\\n];\\n\\ninterface LanguageChangerProps {}\\n\\nconst LanguageChanger: React.FC\u003cLanguageChangerProps\u003e = () =\u003e {\\n  const { i18n } = useTranslation();\\n\\n  const handleChange = (key: string) =\u003e {\\n    i18n.changeLanguage(key);\\n    localStorage.setItem('locale', key);\\n  };\\n\\n  return (\\n    \u003cDropdown\\n      menu={{\\n        items,\\n        selectedKeys: [i18n.language],\\n        onClick: ({ key }) =\u003e handleChange(key),\\n      }}\\n    \u003e\\n      \u003cdiv className=\\\"header-item\\\"\u003e\\n        \u003cTranslationOutlined /\u003e\\n      \u003c/div\u003e\\n    \u003c/Dropdown\u003e\\n  );\\n};\\n\\nexport default LanguageChanger;\\n\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"4\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"通过translation文件中对应的key来使用，考虑到随着业务的新增翻译配置会越来越多，提前将配置进行分组\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-json\",\n        children: \"{\\n  // 全局公共配置\\n  \\\"global\\\": {\\n     // 页面导航\\n    \\\"pages\\\": {},\\n    // 基础公共配置\\n    \\\"common\\\": {\\n      \\\"confirmTitle\\\": \\\"确认\\\"\\n    },\\n    // 模板\\n    \\\"templates\\\": {\\n      \\\"remove_confirm\\\": \\\"确定删除{{target}} \u003cstrong\u003e{{name}}\u003c/strong\u003e？\\\"\\n    },\\n    // 提示语\\n    \\\"messages\\\": {\\n      \\\"remove_successful\\\": \\\"删除成功！\\\",\\n      \\\"save_successful\\\": \\\"保存成功！\\\"\\n    }\\n  },\\n  //根据业务对象进行分类\\n  \\\"users\\\": {},\\n  \\\"projects\\\": {},\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Typescript配置实现提示\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"经过以上配置后，我们就可以通过上面配置的key来使用国际化文本，比如在组件中调用\", _jsx(_components.code, {\n        children: \"useTranslation\"\n      }), \"API返回的t方法来获取文本\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \" const { t } = useTranslation();\\n return t('global.common.hello')\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"react-i18next\"\n      }), \"支持通过ts的类型配置来实现提示\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"在src/@types下目录下建立resources.ts，导入主语言的配置\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \"import translation from '../locales/zh/translation.json';\\n\\nconst resources = {\\n  translation,\\n} as const;\\n\\nexport default resources;\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"在src/@types下目录下建立i18next.d.ts，并添加以下配置：\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"import resources from './resources';\\n\\ndeclare module 'i18next' {\\n  interface CustomTypeOptions {\\n    resources: typeof resources;\\n  }\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"再次调用t方法时，就能看见类型的提示了。\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"在多种场景下的使用方式\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"在组件中使用\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \"const { t } = useTranslation();\\nt('global.common.hello')\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"在组件外使用\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"在组件作用域外的文本，可以调用Translation组件来使用，为了方便调用可以封装以下组件\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \"import type { KeyPrefix } from 'i18next';\\nimport { Translation as TranslationBase } from 'react-i18next';\\n\\ntype Keys = KeyPrefix\u003c'translation'\u003e;\\n\\ninterface TranslationProps {\\n  token: Keys;\\n}\\n\\nconst Translation: React.FC\u003cTranslationProps\u003e = ({ token }) =\u003e {\\n  return \u003cTranslationBase\u003e{(t) =\u003e t(token as unknown as any)}\u003c/TranslationBase\u003e;\\n};\\n\\nexport default Translation;\\n\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"使用如下：\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \"const orderOptions = [\\n  {\\n    label: \u003cTranslation token=\\\"global.common.updateTime\\\" /\u003e,\\n    value: 'modify_time',\\n  },\\n  {\\n    label: \u003cTranslation token=\\\"global.common.createTime\\\" /\u003e,\\n    value: 'create_time',\\n  },\\n];\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"结合模板使用Tran组件\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-typescript\",\n        children: \"\u003cTrans i18nKey=\\\"global.template.remove_confirm\\\"\u003e\\n  {{ target: t('applications.title') }}\\n  {{ name: card.k8sName }}\\n\u003c/Trans\u003e\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.h2, {\n      children: [\"结合\", _jsx(_components.code, {\n        children: \"google翻译\"\n      }), \"实现自动化翻译脚本\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"由于一些复杂的翻译需要用到翻译软件辅助，但翻译过后仍需人工调整，一些词性差异和专有名词翻译软件并不能完全准确翻译，因此最适合的自动化方法是编写一个脚本将未翻译的字段翻译并填写到对应文件中，再进行人工修正\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"安装\", _jsx(_components.code, {\n        children: \"@vitalets/google-translate-api\"\n      }), \"插件，通过插件来调用google翻译的API\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-javascript\",\n        children: \"import { translate } from '@vitalets/google-translate-api';\\nimport fs from 'fs';\\nimport { HttpProxyAgent } from 'http-proxy-agent';\\nimport zhText from '../locales/zh/translation.json' assert  { type: \\\"json\\\" };\\nimport enText from '../locales/en/translation.json' assert  { type: \\\"json\\\" };\\nimport { get } from 'lodash-es';\\nimport { set } from 'lodash-es';\\nimport path from 'path';\\n\\nconst enFilePath = path.resolve('./src/locales/en/translation.json');\\n\\nconst args = process.argv.slice(2);\\nconst proxy = args[0]?.match(/(?\u003c=proxy=).*/)[0] || 'http://127.0.0.1:7890';\\nconst timeoutMs = 5000;\\n\\nasync function translateText(sourceText, to) {\\n  const ac = new AbortController();\\n  const timer = setTimeout(() =\u003e ac.abort(), timeoutMs);\\n  const fetchOptions = {\\n    agent: new HttpProxyAgent(proxy),\\n    signal: ac.signal,\\n  };\\n  try {\\n    const { text } = await translate(sourceText, { fetchOptions, to, });\\n    return text\\n  } finally {\\n    clearTimeout(timer);\\n  }\\n}\\n\\nasync function traverseTexts(translations, key = '') {\\n  for (const k in translations) {\\n    const value = translations[k]\\n    const fullKey = `${key ? `${key}.` : ''}${k}`\\n    if (typeof value === 'string') {\\n      // 只翻译新增的配置\\n      if (get(enText, fullKey) !== void 0) {\\n        continue\\n      }\\n      console.log('translating:', value)\\n      const translated = await translateText(value, 'en')\\n      set(enText, fullKey, translated)\\n    } else {\\n      await traverseTexts(value, fullKey)\\n    }\\n  }\\n}\\n\\nfunction saveEnTexts() {\\n  const jsonContent = JSON.stringify(enText, null, 2);\\n  fs.writeFileSync(enFilePath, jsonContent, 'utf8');\\n  console.log('Translation completed and saved to locales/en/translation.json');\\n}\\n\\nawait traverseTexts(zhText)\\nsaveEnTexts()\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"在\", _jsx(_components.code, {\n        children: \"package.json\"\n      }), \"中添加script\", _jsx(_components.code, {\n        children: \"\\\"auto-translate\\\": \\\"node ./src/locales/translate.js\\\"\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"在批量新增中文文本之后，执行\", _jsx(_components.code, {\n        children: \"npm run auto-translate\"\n      }), \"即可自动填补缺漏的英文配置，可通过\", _jsx(_components.code, {\n        children: \"--proxy=\"\n      }), \"来指定本地代理地址。\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"title":"使用react-i18next进行国际化配置","description":"在react的应用中如何进行国际化配置，并适配多种使用场景以及开发体验的提升","public":true,"date":"2024-07-25 19:03:00","category":"framework"}},"frontMatter":{"title":"使用react-i18next进行国际化配置","description":"在react的应用中如何进行国际化配置，并适配多种使用场景以及开发体验的提升","public":true,"date":"2024-07-25 19:03:00","category":"framework"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"react-i18next"},"buildId":"2XlT3rGw8n9OHW1k7dVgT","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>