<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>è›‹é»„æ´¾ç¢å†°å†°</title><meta name="description" content="è›‹é»„æ´¾ç¢å†°å†°çš„åšå®¢"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/e0545ffc3f78babf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e0545ffc3f78babf.css" data-n-g=""/><link rel="preload" href="/_next/static/css/4a0c5542377ce400.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4a0c5542377ce400.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-fdc1f1e72b3c0540.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-e267bb9839e5051c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-fe85ddc63867fc19.js" defer=""></script><script src="/_next/static/chunks/347-34557e8e6f4e11a0.js" defer=""></script><script src="/_next/static/chunks/384-64a86c1d997b1133.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-f44b08a790a851f8.js" defer=""></script><script src="/_next/static/eQHzwepfXML6lMuZMdrtB/_buildManifest.js" defer=""></script><script src="/_next/static/eQHzwepfXML6lMuZMdrtB/_ssgManifest.js" defer=""></script><script src="/_next/static/eQHzwepfXML6lMuZMdrtB/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="Layout_container__CSAqU"><header class="Header_header__Z4YN5"><a href="/">è›‹é»„æ´¾ç¢å†°å†°</a><nav><ul><li><a href="/#posts">æ–‡ç« </a></li><li><a href="/about">å…³äº</a></li></ul></nav></header><main><div class="Layout_banner__0qsJd"><h1>Ng-Zorroä»£ç é‰´èµ</h1><p>Ng-Zorroæ˜¯ant-designç»„ä»¶åº“çš„angularå®ç°ï¼Œå‰æ®µæ—¶é—´æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°†ç»„ä»¶åº“æ¢æˆZorroï¼Œå› æ­¤çœ‹äº†ä¸€ä¸‹ä»£ç å®ç°ï¼Œæ€»ç»“ä¸€äº›å¥½çš„å†™æ³•ã€‚</p><div>2021-12-10 13:55:00</div></div><div class="content-container"><h1>Ng-Zorroä»£ç é‰´èµ</h1>
<p>Ng-Zorroæ˜¯ant-designç»„ä»¶åº“çš„angularå®ç°ï¼Œå‰æ®µæ—¶é—´æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°†ç»„ä»¶åº“æ¢æˆZorroï¼Œå› æ­¤çœ‹äº†ä¸€ä¸‹ä»£ç å®ç°ï¼Œæ€»ç»“ä¸€äº›å¥½çš„å†™æ³•ã€‚</p>
<h2>ç›®å½•</h2>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span>| æ–‡ä»¶/æ–‡ä»¶åç§° | è¯´æ˜ | 
</span>| components | ç»„ä»¶æ–‡ä»¶å¤¹ï¼ŒåŒ…å«æ¡†æ¶ç»„ä»¶æºç  |
<!-- -->| docs | éç»„ä»¶æ–‡ç« æ–‡æ¡£ï¼Œå¦‚å›½é™…åŒ–ã€å…¨å±€é…ç½®ç­‰ |
<!-- -->| integration | æ„å»ºæ“ä½œå·¥å…·ï¼Œæ­é… travis ä½¿ç”¨ |
<!-- -->| schematics | è‡ªå®šä¹‰è„šæ‰‹æ¶ï¼Œng g add ng-zorro-antd |
<!-- -->| scripts | å‘å¸ƒ/è°ƒè¯•è„šæœ¬ |
<!-- -->| CODE_OF_CONDUCT.md | è´¡çŒ®æŒ‡å— |
<!-- -->| CHANGELOG.md | å‘å¸ƒæ—¥å¿— |
</code></pre>
<p>å…¶ä¸­components/core æ”¾äº†ä¸€äº›å…¬å…±ä»£ç </p>
<p>å…³äºå’Œant-designä¿æŒæ ·å¼ç»Ÿä¸€ï¼Œä»–ä»¬ä½¿ç”¨äº†<a href="https://github.com/ng-zorro-bot">æœºå™¨äºº</a>ä»ant-designåŒæ­¥æ ·å¼ä»£ç ã€‚</p>
<h2>ONPUSHå˜æ›´æ£€æµ‹æ¨¡å¼çš„ä½¿ç”¨</h2>
<p>angularä¸­æœ‰ä¸¤ç§æ£€æµ‹æ¨¡å¼ï¼Œä¸€ç§æ˜¯CheckAlwaysï¼Œä¸€ç§æ˜¯CheckOnceï¼Œé€šè¿‡componentè£…é¥°å™¨çš„changeDetectionå­—æ®µæ¥å®šä¹‰</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span>@Component({
</span>  changeDetection: ChangeDetectionStrategy.OnPush
<!-- -->})
<span>export </span><span style="color:#b48ead">declare</span><span> </span><span style="color:#b48ead">enum</span><span> ChangeDetectionStrategy {
</span>    /**
<span>     * Use the `CheckOnce` strategy, meaning that automatic change detection </span><span style="color:#d08770">is</span><span> deactivated
</span><span>     * </span><span style="color:#b48ead">until</span><span> reactivated </span><span style="color:#b48ead">by</span><span> setting the strategy </span><span style="color:#b48ead">to</span><span> `</span><span style="color:#b48ead">Default</span><span>` (`CheckAlways`).
</span>     * Change detection can still be explicitly invoked.
<span>     * This strategy applies </span><span style="color:#b48ead">to</span><span> all child directives </span><span style="color:#d08770">and</span><span> cannot be overridden.
</span>     */
<span>    OnPush = </span><span style="color:#d08770">0</span><span>,
</span>    /**
<span>     * Use the </span><span style="color:#b48ead">default</span><span> `CheckAlways` strategy, </span><span style="color:#b48ead">in</span><span> which change detection </span><span style="color:#d08770">is</span><span> automatic </span><span style="color:#b48ead">until</span><span>
</span>     * explicitly deactivated.
<!-- -->     */
<span>    </span><span style="color:#b48ead">Default</span><span> = </span><span style="color:#d08770">1</span><span>
</span>}
</code></pre>
<p>OnPushæ¨¡å¼çš„ä½¿ç”¨:</p>
<p>ç”±<a href="https://angular.cn/api/core/ChangeDetectorRef">ChangeDetectorRef</a>æä¾›å˜æ›´æ£€æµ‹åŠŸèƒ½</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">abstract</span><span> </span><span class="hljs-class" style="color:#b48ead">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#8fa1b3">ChangeDetectorRef</span><span class="hljs-class"> </span><span>{
</span><span>  </span><span style="color:#b48ead">abstract</span><span> markForCheck(): </span><span style="color:#d08770">void</span><span> </span><span style="color:#65737e">// å½“è§†å›¾ä½¿ç”¨ OnPushï¼ˆcheckOnceï¼‰å˜æ›´æ£€æµ‹ç­–ç•¥æ—¶ï¼ŒæŠŠè¯¥è§†å›¾æ˜¾å¼æ ‡è®°ä¸ºå·²æ›´æ”¹ï¼Œä»¥ä¾¿å®ƒå†æ¬¡è¿›è¡Œæ£€æŸ¥ã€‚</span><span>
</span><span>  </span><span style="color:#b48ead">abstract</span><span> detach(): </span><span style="color:#d08770">void</span><span> </span><span style="color:#65737e">// ä»å˜æ›´æ£€æµ‹æ ‘ä¸­åˆ†ç¦»å¼€è§†å›¾ã€‚ </span><span>
</span><span>  </span><span style="color:#b48ead">abstract</span><span> detectChanges(): </span><span style="color:#d08770">void</span><span> </span><span style="color:#65737e">// æ£€æŸ¥è¯¥è§†å›¾åŠå…¶å­è§†å›¾ã€‚</span><span>
</span><span>  </span><span style="color:#b48ead">abstract</span><span> checkNoChanges(): </span><span style="color:#d08770">void</span><span> </span><span style="color:#65737e">// æ£€æŸ¥å˜æ›´æ£€æµ‹å™¨åŠå…¶å­æ£€æµ‹å™¨ï¼Œå¦‚æœæ£€æµ‹åˆ°ä»»ä½•æ›´æ”¹ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</span><span>
</span><span>  </span><span style="color:#b48ead">abstract</span><span> reattach(): </span><span style="color:#d08770">void</span><span> </span><span style="color:#65737e">// æŠŠä»¥å‰åˆ†ç¦»å¼€çš„è§†å›¾é‡æ–°é™„åŠ åˆ°å˜æ›´æ£€æµ‹æ ‘ä¸Šã€‚ è§†å›¾ä¼šè¢«é»˜è®¤é™„åŠ åˆ°è¿™æ£µæ ‘ä¸Šã€‚</span><span>
</span>}
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<p>zorroä¸­è¿™æ®µä»£ç å‡ºç°è¿‡å¾ˆå¤šæ¬¡ï¼Œä½œç”¨æ˜¯å½“å…¨å±€é…ç½®ä¸­å¯¹åº”å½“å‰ç»„ä»¶çš„é…ç½®ä¿®æ”¹æ—¶ï¼Œå°†è§†å›¾æ ‡è®°ä¸ºéœ€æ£€æµ‹ã€‚</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#d08770">this</span><span>.nzConfigService
</span>    .getConfigChangeEventForComponent(NZ_CONFIG_COMPONENT_NAME)
<span>    .pipe(takeUntil(</span><span style="color:#d08770">this</span><span>.destroy$))
</span><span>    .subscribe(</span><span class="hljs-function">() =&gt;</span><span> {
</span><span>    </span><span style="color:#d08770">this</span><span>.cdr.markForCheck();
</span>});
</code></pre>
<p>è¡¨å•æ§ä»¶ä¸­ï¼Œå½“writeVauleæ‰§è¡Œæ—¶ï¼ˆå³å°†å˜åŒ–çš„æ•°æ®å†™å…¥è§†å›¾æ—¶ï¼‰ï¼Œæ ‡è®°ä¸ºéœ€æ£€æµ‹ã€‚</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span>writeValue(value: </span><span style="color:#d08770">number</span><span>): </span><span style="color:#d08770">void</span><span> {
</span><span>    </span><span style="color:#d08770">this</span><span>.value = value;
</span><span>    </span><span style="color:#d08770">this</span><span>.setValue(value);
</span><span>    </span><span style="color:#d08770">this</span><span>.updateDisplayValue(value);
</span><span>    </span><span style="color:#d08770">this</span><span>.cdr.markForCheck();
</span>}
</code></pre>
<h2>ä½¿ç”¨<a href="https://angular.cn/api/core/NgZone">NgZone</a></h2>
<p>Zone æ˜¯è·¨å¼‚æ­¥ä»»åŠ¡è€ŒæŒä¹…å­˜åœ¨çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>
<p>ngZoneåŸºäºzone.jsï¼Œæ˜¯Angularå˜æ›´æ£€æµ‹çš„åŸºç¡€ï¼ŒAngularé€šè¿‡zoneç›‘å¬åˆ°äº†å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä¾¿äºåœ¨å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œæ—¶è§¦å‘å˜æ›´æ£€æµ‹ã€‚</p>
<p>ä½¿ç”¨<code>ngZone.runOutsideAngular</code>è®©ä»£ç æ‰§è¡Œä¸è§¦å‘æ–°çš„å˜æ›´æ£€æµ‹ï¼Œåœ¨è°ƒç”¨<code>run</code>å°†è¿™äº›ä»»åŠ¡é‡æ–°è¿›å…¥Angular zone</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#d08770">this</span><span>.ngZone.runOutsideAngular(</span><span class="hljs-function">() =&gt;</span><span> {
</span><span>      fromEvent&lt;MouseEvent&gt;(</span><span style="color:#d08770">this</span><span>.elementRef.nativeElement, </span><span style="color:#a3be8c">&#x27;click&#x27;</span><span>)
</span><span>        .pipe(takeUntil(</span><span style="color:#d08770">this</span><span>.destroy$))
</span><span>        .subscribe(</span><span class="hljs-function" style="color:#d08770">event</span><span class="hljs-function"> =&gt;</span><span> {
</span><span>          </span><span style="color:#65737e">/** prevent label click triggered twice. **/</span><span>
</span>          event.stopPropagation();
<!-- -->          event.preventDefault();
<span>          </span><span style="color:#b48ead">if</span><span> (</span><span style="color:#d08770">this</span><span>.nzDisabled || </span><span style="color:#d08770">this</span><span>.isChecked) {
</span><span>            </span><span style="color:#b48ead">return</span><span>;
</span>          }
<span>          </span><span style="color:#d08770">this</span><span>.ngZone.run(</span><span class="hljs-function">() =&gt;</span><span> {
</span><span>            </span><span style="color:#b48ead">if</span><span> (</span><span style="color:#d08770">this</span><span>.nzRadioService) {
</span><span>              </span><span style="color:#d08770">this</span><span>.nzRadioService.select(</span><span style="color:#d08770">this</span><span>.nzValue);
</span>            }
<span>            </span><span style="color:#b48ead">if</span><span> (</span><span style="color:#d08770">this</span><span>.isNgModel) {
</span><span>              </span><span style="color:#d08770">this</span><span>.isChecked = </span><span style="color:#d08770">true</span><span>;
</span><span>              </span><span style="color:#d08770">this</span><span>.onChange(</span><span style="color:#d08770">true</span><span>);
</span>            }
<span>            </span><span style="color:#d08770">this</span><span>.cdr.markForCheck();
</span>          });
<!-- -->        });
<!-- -->    });
</code></pre>
<h2>å¯¹templateRefä¼ å‚çš„å¤„ç†</h2>
<p>Zorroçš„ç»„ä»¶ä¸­å¾ˆå¤šæ”¯æŒ<code>string | TemplateRef&lt;void&gt;</code>è¿™ç§ç±»å‹çš„ä¼ å‚ï¼Œç”¨äºå°†å­—ç¬¦ä¸²æˆ–æ¨¡æ¿æ¤å…¥ç»„ä»¶è§†å›¾ã€‚angularæœ‰ä¸€ä¸ª<a href="https://angular.cn/api/common/NgTemplateOutlet">NgTemplateOutlet</a>æŒ‡ä»¤ï¼Œç”¨äºå°†templateRefæ’å…¥è§†å›¾ï¼Œä¸ºäº†åŒæ—¶å¤„ç†TemplateRefå’Œstringç±»å‹ï¼Œzorroä¸­å°è£…äº†ä¸€ä¸ªç±»ä¼¼çš„æŒ‡ä»¤<code>nzStringTemplateOutlet</code>ã€‚</p>
<p>æ ¸å¿ƒä»£ç ä¸º</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span class="hljs-function" style="color:#8fa1b3">constructor</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b48ead">private</span><span class="hljs-function" style="color:#d08770"> viewContainer: ViewContainerRef, </span><span class="hljs-function" style="color:#b48ead">private</span><span class="hljs-function" style="color:#d08770"> templateRef: TemplateRef&lt;NzSafeAny&gt;</span><span class="hljs-function">)</span><span> {}
</span>
<span></span><span style="color:#b48ead">private</span><span> recreateView(): </span><span style="color:#d08770">void</span><span> {
</span><span>    </span><span style="color:#d08770">this</span><span>.viewContainer.clear();
</span><span>    </span><span style="color:#b48ead">const</span><span> isTemplateRef = </span><span style="color:#d08770">this</span><span>.nzStringTemplateOutlet </span><span style="color:#b48ead">instanceof</span><span> TemplateRef;
</span><span>    </span><span style="color:#b48ead">const</span><span> templateRef = (isTemplateRef ? </span><span style="color:#d08770">this</span><span>.nzStringTemplateOutlet : </span><span style="color:#d08770">this</span><span>.templateRef) </span><span style="color:#b48ead">as</span><span> NzSafeAny;
</span><span>    </span><span style="color:#d08770">this</span><span>.embeddedViewRef = </span><span style="color:#d08770">this</span><span>.viewContainer.createEmbeddedView(
</span>    templateRef,
<span>    isTemplateRef ? </span><span style="color:#d08770">this</span><span>.nzStringTemplateOutletContext : </span><span style="color:#d08770">this</span><span>.context
</span>    );
<!-- -->}
<!-- -->  
<span>ngOnChanges(changes: SimpleChanges): </span><span style="color:#d08770">void</span><span> {
</span><span>    </span><span style="color:#65737e">// ...</span><span>
</span><span>     </span><span style="color:#b48ead">if</span><span> (recreateView) {
</span><span>      </span><span style="color:#65737e">/** recreate view when context shape or outlet change **/</span><span>
</span><span>      </span><span style="color:#d08770">this</span><span>.recreateView();
</span><span>    } </span><span style="color:#b48ead">else</span><span> {
</span><span>    </span><span style="color:#65737e">// ...</span><span>
</span>	}
<!-- -->}
</code></pre>
<p>åœ¨å¾ˆå¤šä¸ªç»„ä»¶æ–‡ä»¶é‡Œéƒ½èƒ½çœ‹åˆ°ä»–çš„ä½¿ç”¨ï¼Œå¤§æ¦‚å¦‚ä¸‹:</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span>&lt;ng-container *nzStringTemplateOutlet=</span><span style="color:#a3be8c">&quot;nzMessage&quot;</span><span>&gt;{{ nzMessage }}&lt;/ng-container&gt;
</span><span></span><span style="color:#d08770">@Input</span><span>() nzMessage: </span><span style="color:#d08770">string</span><span> | TemplateRef&lt;</span><span style="color:#d08770">void</span><span>&gt; | </span><span style="color:#d08770">null</span><span> = </span><span style="color:#d08770">null</span><span>;
</span></code></pre>
<p>æŒ‡ä»¤æ˜¯Angularä¸­ç”¨äºå°è£…å…¬å…±è¡Œä¸ºçš„å¼ºæœ‰åŠ›å·¥å…·ï¼Œå®ƒæ‹¥æœ‰äº†å¯¹æ¨¡æ¿çš„æ§åˆ¶æƒï¼Œå’Œç»„ä»¶ä¸€æ ·æ‹¥æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥æ›´çµæ´»ã€‚</p>
<h2>å¯¹è£…é¥°å™¨çš„ä½¿ç”¨</h2>
<ol>
<li>
<p>å±æ€§è£…é¥°å™¨</p>
<p>zorroä¸­åŸºæœ¬æ¯ä¸€ä¸ªç»„ä»¶éƒ½ä¼šçœ‹åˆ°@InputNumberã€@InputBooleanè¿™æ ·çš„è£…é¥°å™¨ä½¿ç”¨ï¼Œç”¨äºå¯¹è¾“å…¥å‚æ•°è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œé¿å…å› ç±»å‹é”™è¯¯å½±å“åé¢ç¨‹åºè¿è¡Œã€‚</p>
<p>åœ¨typescriptä¸­å£°æ˜ä¸€ä¸ªå·¥å‚è£…é¥°å™¨çš„æ€è·¯å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">name</span><span class="hljs-function"> (</span><span class="hljs-function">) </span><span>{
</span><span>    </span><span style="color:#b48ead">return</span><span> </span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#d08770">target: IConfirmableDirective, propertyKey: </span><span class="hljs-function" style="color:#d08770">string</span><span class="hljs-function" style="color:#d08770">, descriptor: PropertyDescriptor</span><span class="hljs-function">) </span><span>{
</span><span>            </span><span style="color:#65737e">// TODO å¯¹è£…é¥°å¯¹è±¡çš„å¤„ç†ï¼Œå¹¶è¿”å›æ–°çš„descriptor</span><span>
</span>    }
<!-- -->}
<!-- -->
</code></pre>
<p>zorroä¸­å®šä¹‰äº†ä¸€ä¸ªç”Ÿäº§å±æ€§è£…é¥°å™¨çš„å‡½æ•°ï¼Œä¼ å…¥è£…é¥°å™¨åç§°å’Œå¯¹å±æ€§çš„å¤„ç†å‡½æ•°ï¼Œå³å¯ç”Ÿæˆä¸€ä¸ªè£…é¥°å™¨ã€‚</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">propDecoratorFactory</span><span class="hljs-function">&lt;</span><span class="hljs-function" style="color:#8fa1b3">T</span><span class="hljs-function">, </span><span class="hljs-function" style="color:#8fa1b3">D</span><span class="hljs-function">&gt;(</span><span class="hljs-function" style="color:#d08770">
</span><span class="hljs-function" style="color:#d08770">  name: </span><span class="hljs-function" style="color:#d08770">string</span><span class="hljs-function" style="color:#d08770">,
</span><span class="hljs-function" style="color:#d08770">  fallback: (v: T) =&gt; D
</span><span class="hljs-function" style="color:#d08770"></span><span class="hljs-function">): (</span><span class="hljs-function" style="color:#d08770">target: NzSafeAny, propName: </span><span class="hljs-function" style="color:#d08770">string</span><span class="hljs-function">) =&gt; </span><span class="hljs-function" style="color:#8fa1b3">void</span><span class="hljs-function"> </span><span>{
</span><span>  </span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">propDecorator</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#d08770">
</span><span class="hljs-function" style="color:#d08770">    target: NzSafeAny,
</span><span class="hljs-function" style="color:#d08770">    propName: </span><span class="hljs-function" style="color:#d08770">string</span><span class="hljs-function" style="color:#d08770">,
</span><span class="hljs-function" style="color:#d08770">    originalDescriptor?: TypedPropertyDescriptor&lt;NzSafeAny&gt;
</span><span class="hljs-function" style="color:#d08770">  </span><span class="hljs-function">): </span><span class="hljs-function" style="color:#8fa1b3">NzSafeAny</span><span class="hljs-function"> </span><span>{
</span><span>    </span><span style="color:#b48ead">const</span><span> privatePropName = </span><span style="color:#a3be8c">`$$__zorroPropDecorator__</span><span class="hljs-subst" style="color:#a3be8c">${propName}</span><span style="color:#a3be8c">`</span><span>;
</span>
<span>    </span><span style="color:#b48ead">if</span><span> (</span><span style="color:#d08770">Object</span><span>.prototype.hasOwnProperty.call(target, privatePropName)) {
</span><span>      warn(</span><span style="color:#a3be8c">`The prop &quot;</span><span class="hljs-subst" style="color:#a3be8c">${privatePropName}</span><span style="color:#a3be8c">&quot; is already exist, it will be overrided by </span><span class="hljs-subst" style="color:#a3be8c">${name}</span><span style="color:#a3be8c"> decorator.`</span><span>);
</span>    }
<!-- -->
<span>    </span><span style="color:#d08770">Object</span><span>.defineProperty(target, privatePropName, {
</span><span>      </span><span class="hljs-attr">configurable</span><span>: </span><span style="color:#d08770">true</span><span>,
</span><span>      </span><span class="hljs-attr">writable</span><span>: </span><span style="color:#d08770">true</span><span>
</span>    });
<!-- -->
<span>    </span><span style="color:#b48ead">return</span><span> {
</span><span>      get(): </span><span style="color:#d08770">string</span><span> {
</span><span>        </span><span style="color:#b48ead">return</span><span> originalDescriptor &amp;&amp; originalDescriptor.get
</span><span>          ? originalDescriptor.get.bind(</span><span style="color:#d08770">this</span><span>)()
</span><span>          : </span><span style="color:#d08770">this</span><span>[privatePropName];
</span>      },
<span>      set(value: T): </span><span style="color:#d08770">void</span><span> {
</span><span>        </span><span style="color:#b48ead">if</span><span> (originalDescriptor &amp;&amp; originalDescriptor.set) {
</span><span>          originalDescriptor.set.bind(</span><span style="color:#d08770">this</span><span>)(fallback(value));
</span>        }
<span>        </span><span style="color:#d08770">this</span><span>[privatePropName] = fallback(value);
</span>      }
<!-- -->    };
<!-- -->  }
<!-- -->
<span>  </span><span style="color:#b48ead">return</span><span> propDecorator;
</span>}
<!-- -->
<span></span><span style="color:#b48ead">export</span><span> </span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">InputBoolean</span><span class="hljs-function">(</span><span class="hljs-function">): </span><span class="hljs-function" style="color:#8fa1b3">NzSafeAny</span><span class="hljs-function"> </span><span>{
</span><span>  </span><span style="color:#b48ead">return</span><span> propDecoratorFactory(</span><span style="color:#a3be8c">&#x27;InputBoolean&#x27;</span><span>, toBoolean);
</span>}
<!-- -->
</code></pre>
</li>
<li>
<p>ä»å…¨å±€é…ç½®ä¸­è·å–é»˜è®¤æ•°å€¼çš„è£…é¥°å™¨</p>
<p>zorroæä¾›äº†ä¸€ä¸ª<code>NzConfigService</code>ç±»ï¼Œå¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼æˆ–è€…è°ƒç”¨apiçš„æ–¹å¼æ¥è®¾ç½®ç»„ä»¶çš„é»˜è®¤é…ç½®</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">export</span><span> </span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">WithConfig</span><span class="hljs-function">&lt;</span><span class="hljs-function" style="color:#8fa1b3">T</span><span class="hljs-function">&gt;(</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#b48ead">return</span><span> </span><span class="hljs-function" style="color:#b48ead">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#8fa1b3">ConfigDecorator</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#d08770">
</span><span class="hljs-function" style="color:#d08770">    target: NzSafeAny,
</span><span class="hljs-function" style="color:#d08770">    propName: NzSafeAny,
</span><span class="hljs-function" style="color:#d08770">    originalDescriptor?: TypedPropertyDescriptor&lt;T&gt;
</span><span class="hljs-function" style="color:#d08770">  </span><span class="hljs-function">): </span><span class="hljs-function" style="color:#8fa1b3">NzSafeAny</span><span class="hljs-function"> </span><span>{
</span><span>    </span><span style="color:#b48ead">const</span><span> privatePropName = </span><span style="color:#a3be8c">`$$__zorroConfigDecorator__</span><span class="hljs-subst" style="color:#a3be8c">${propName}</span><span style="color:#a3be8c">`</span><span>;
</span>
<span>    </span><span style="color:#d08770">Object</span><span>.defineProperty(target, privatePropName, {
</span><span>      </span><span class="hljs-attr">configurable</span><span>: </span><span style="color:#d08770">true</span><span>,
</span><span>      </span><span class="hljs-attr">writable</span><span>: </span><span style="color:#d08770">true</span><span>,
</span><span>      </span><span class="hljs-attr">enumerable</span><span>: </span><span style="color:#d08770">false</span><span>
</span>    });
<!-- -->
<span>    </span><span style="color:#b48ead">return</span><span> {
</span><span>      get(): T | </span><span style="color:#d08770">undefined</span><span> {
</span><span>        </span><span style="color:#b48ead">const</span><span> originalValue = originalDescriptor?.get ? originalDescriptor.get.bind(</span><span style="color:#d08770">this</span><span>)() : </span><span style="color:#d08770">this</span><span>[privatePropName];
</span><span>        </span><span style="color:#b48ead">const</span><span> assignedByUser = (</span><span style="color:#d08770">this</span><span>.propertyAssignCounter?.[propName] || </span><span style="color:#d08770">0</span><span>) &gt; </span><span style="color:#d08770">1</span><span>;
</span><span>        </span><span style="color:#b48ead">const</span><span> configValue = </span><span style="color:#d08770">this</span><span>.nzConfigService.getConfigForComponent(</span><span style="color:#d08770">this</span><span>._nzModuleName)?.[propName];
</span><span>        </span><span style="color:#b48ead">if</span><span> (assignedByUser &amp;&amp; isDefined(originalValue)) {
</span><span>          </span><span style="color:#b48ead">return</span><span> originalValue;
</span><span>        } </span><span style="color:#b48ead">else</span><span> {
</span><span>          </span><span style="color:#b48ead">return</span><span> isDefined(configValue) ? configValue : originalValue;
</span>        }
<!-- -->      },
<span>      set(value?: T): </span><span style="color:#d08770">void</span><span> {
</span><span>        </span><span style="color:#65737e">// If the value is assigned, we consider the newly assigned value as &#x27;assigned by user&#x27;.</span><span>
</span><span>        </span><span style="color:#d08770">this</span><span>.propertyAssignCounter = </span><span style="color:#d08770">this</span><span>.propertyAssignCounter || {};
</span><span>        </span><span style="color:#d08770">this</span><span>.propertyAssignCounter[propName] = (</span><span style="color:#d08770">this</span><span>.propertyAssignCounter[propName] || </span><span style="color:#d08770">0</span><span>) + </span><span style="color:#d08770">1</span><span>;
</span>
<span>        </span><span style="color:#b48ead">if</span><span> (originalDescriptor?.set) {
</span><span>          originalDescriptor.set.bind(</span><span style="color:#d08770">this</span><span>)(value!);
</span><span>        } </span><span style="color:#b48ead">else</span><span> {
</span><span>          </span><span style="color:#d08770">this</span><span>[privatePropName] = value;
</span>        }
<!-- -->      },
<span>      </span><span class="hljs-attr">configurable</span><span>: </span><span style="color:#d08770">true</span><span>,
</span><span>      </span><span class="hljs-attr">enumerable</span><span>: </span><span style="color:#d08770">true</span><span>
</span>    };
<!-- -->  };
<!-- -->}
<!-- -->
</code></pre>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å¦‚ä¸‹:</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#d08770">@Input</span><span>() </span><span style="color:#d08770">@WithConfig</span><span>() nzSize: NzSizeLDSType | </span><span style="color:#d08770">number</span><span> = </span><span style="color:#a3be8c">&#x27;default&#x27;</span><span>;
</span>
</code></pre>
<p>å¦‚ä½•ä¿è¯ä¼˜å…ˆçº§?</p>
<p>ç»„ä»¶è°ƒç”¨&gt;ç”¨æˆ·é…ç½®&gt;é»˜è®¤é…ç½®</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">const</span><span> assignedByUser = (</span><span style="color:#d08770">this</span><span>.propertyAssignCounter?.[propName] || </span><span style="color:#d08770">0</span><span>) &gt; </span><span style="color:#d08770">1</span><span>;
</span>
</code></pre>
<p>æ¯æ¬¡è°ƒç”¨setçš„æ—¶å€™ä¼š+1ï¼Œå¤§äº1è¯´æ˜ç”¨æˆ·è‡ªå·±è®¾ç½®äº†ï¼Œä½¿ç”¨ç”¨æˆ·è®¾ç½®çš„å€¼ï¼Œå¦åˆ™å…ˆè¯»é…ç½®é‡Œï¼Œæ²¡æœ‰çš„è¯å†è¯»ç»„ä»¶é‡Œçš„é»˜è®¤å€¼ã€‚</p>
</li>
</ol>
<h2>ä½¿ç”¨<a href="https://v12.material.angular.io/cdk/overlay/overview">angular/cdk/overlay</a>å¯¹æµ®å±‚è¿›è¡Œç»Ÿä¸€ç®¡ç†</h2>
<p>ä¸ºä»€ä¹ˆéœ€è¦å¯¹æµ®å±‚è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Ÿ</p>
<ul>
<li>è§„é¿çˆ¶å…ƒç´ æ ·å¼çš„å½±å“ï¼ˆæ¯”å¦‚transitionå±æ€§çš„å½±å“ï¼‰</li>
<li>åœ¨åˆ›å»ºå’Œé”€æ¯å¼¹å‡ºå±‚æ—¶ï¼Œé¿å…å½±å“åº”ç”¨ä¸»ä½“</li>
<li>æ–¹ä¾¿ z-index çš„è®¾ç½®ä¸ç®¡ç†</li>
</ul>
<p>@angular/cdkçš„overlayæ¨¡å—æä¾›äº†ä¸€å¥—ç®¡ç†æµ®å±‚çš„åŠŸèƒ½</p>
<p>ä½¿ç”¨å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre style="display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:0.5em"><code class="block-code" style="white-space:pre"><span style="color:#b48ead">const</span><span> containerPortal = </span><span style="color:#b48ead">new</span><span> ComponentPortal&lt;BaseModalContainerComponent&gt;(
</span>      ContainerComponent,
<!-- -->      config.nzViewContainerRef,
<!-- -->      injector
<!-- -->    );
<span></span><span style="color:#b48ead">const</span><span> containerRef = overlayRef.attach&lt;BaseModalContainerComponent&gt;(containerPortal);
</span>
</code></pre></div></main><footer class="grid place-items-center pb-4"><a href="https://github.com/hmilin" target="_blank" rel="noreferrer noopener">ğŸ˜˜Github</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      h1: \"h1\",\n      p: \"p\",\n      h2: \"h2\",\n      pre: \"pre\",\n      code: \"code\",\n      a: \"a\",\n      ol: \"ol\",\n      li: \"li\",\n      ul: \"ul\"\n    }, _provideComponents(), props.components);\n    return _jsxs(_Fragment, {\n      children: [_jsx(_components.h1, {\n        children: \"Ng-Zorroä»£ç é‰´èµ\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Ng-Zorroæ˜¯ant-designç»„ä»¶åº“çš„angularå®ç°ï¼Œå‰æ®µæ—¶é—´æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°†ç»„ä»¶åº“æ¢æˆZorroï¼Œå› æ­¤çœ‹äº†ä¸€ä¸‹ä»£ç å®ç°ï¼Œæ€»ç»“ä¸€äº›å¥½çš„å†™æ³•ã€‚\"\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ç›®å½•\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-text\",\n          children: \"| æ–‡ä»¶/æ–‡ä»¶åç§° | è¯´æ˜ | \\n| components | ç»„ä»¶æ–‡ä»¶å¤¹ï¼ŒåŒ…å«æ¡†æ¶ç»„ä»¶æºç  |\\n| docs | éç»„ä»¶æ–‡ç« æ–‡æ¡£ï¼Œå¦‚å›½é™…åŒ–ã€å…¨å±€é…ç½®ç­‰ |\\n| integration | æ„å»ºæ“ä½œå·¥å…·ï¼Œæ­é… travis ä½¿ç”¨ |\\n| schematics | è‡ªå®šä¹‰è„šæ‰‹æ¶ï¼Œng g add ng-zorro-antd |\\n| scripts | å‘å¸ƒ/è°ƒè¯•è„šæœ¬ |\\n| CODE_OF_CONDUCT.md | è´¡çŒ®æŒ‡å— |\\n| CHANGELOG.md | å‘å¸ƒæ—¥å¿— |\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"å…¶ä¸­components/core æ”¾äº†ä¸€äº›å…¬å…±ä»£ç \"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"å…³äºå’Œant-designä¿æŒæ ·å¼ç»Ÿä¸€ï¼Œä»–ä»¬ä½¿ç”¨äº†\", _jsx(_components.a, {\n          href: \"https://github.com/ng-zorro-bot\",\n          children: \"æœºå™¨äºº\"\n        }), \"ä»ant-designåŒæ­¥æ ·å¼ä»£ç ã€‚\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ONPUSHå˜æ›´æ£€æµ‹æ¨¡å¼çš„ä½¿ç”¨\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"angularä¸­æœ‰ä¸¤ç§æ£€æµ‹æ¨¡å¼ï¼Œä¸€ç§æ˜¯CheckAlwaysï¼Œä¸€ç§æ˜¯CheckOnceï¼Œé€šè¿‡componentè£…é¥°å™¨çš„changeDetectionå­—æ®µæ¥å®šä¹‰\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-js\",\n          children: \"@Component({\\n  changeDetection: ChangeDetectionStrategy.OnPush\\n})\\nexport declare enum ChangeDetectionStrategy {\\n    /**\\n     * Use the `CheckOnce` strategy, meaning that automatic change detection is deactivated\\n     * until reactivated by setting the strategy to `Default` (`CheckAlways`).\\n     * Change detection can still be explicitly invoked.\\n     * This strategy applies to all child directives and cannot be overridden.\\n     */\\n    OnPush = 0,\\n    /**\\n     * Use the default `CheckAlways` strategy, in which change detection is automatic until\\n     * explicitly deactivated.\\n     */\\n    Default = 1\\n}\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"OnPushæ¨¡å¼çš„ä½¿ç”¨:\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ç”±\", _jsx(_components.a, {\n          href: \"https://angular.cn/api/core/ChangeDetectorRef\",\n          children: \"ChangeDetectorRef\"\n        }), \"æä¾›å˜æ›´æ£€æµ‹åŠŸèƒ½\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-typescript\",\n          children: \"abstract class ChangeDetectorRef {\\n  abstract markForCheck(): void // å½“è§†å›¾ä½¿ç”¨ OnPushï¼ˆcheckOnceï¼‰å˜æ›´æ£€æµ‹ç­–ç•¥æ—¶ï¼ŒæŠŠè¯¥è§†å›¾æ˜¾å¼æ ‡è®°ä¸ºå·²æ›´æ”¹ï¼Œä»¥ä¾¿å®ƒå†æ¬¡è¿›è¡Œæ£€æŸ¥ã€‚\\n  abstract detach(): void // ä»å˜æ›´æ£€æµ‹æ ‘ä¸­åˆ†ç¦»å¼€è§†å›¾ã€‚ \\n  abstract detectChanges(): void // æ£€æŸ¥è¯¥è§†å›¾åŠå…¶å­è§†å›¾ã€‚\\n  abstract checkNoChanges(): void // æ£€æŸ¥å˜æ›´æ£€æµ‹å™¨åŠå…¶å­æ£€æµ‹å™¨ï¼Œå¦‚æœæ£€æµ‹åˆ°ä»»ä½•æ›´æ”¹ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚\\n  abstract reattach(): void // æŠŠä»¥å‰åˆ†ç¦»å¼€çš„è§†å›¾é‡æ–°é™„åŠ åˆ°å˜æ›´æ£€æµ‹æ ‘ä¸Šã€‚ è§†å›¾ä¼šè¢«é»˜è®¤é™„åŠ åˆ°è¿™æ£µæ ‘ä¸Šã€‚\\n}\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ä½¿ç”¨ç¤ºä¾‹ï¼š\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"zorroä¸­è¿™æ®µä»£ç å‡ºç°è¿‡å¾ˆå¤šæ¬¡ï¼Œä½œç”¨æ˜¯å½“å…¨å±€é…ç½®ä¸­å¯¹åº”å½“å‰ç»„ä»¶çš„é…ç½®ä¿®æ”¹æ—¶ï¼Œå°†è§†å›¾æ ‡è®°ä¸ºéœ€æ£€æµ‹ã€‚\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-typescript\",\n          children: \"this.nzConfigService\\n    .getConfigChangeEventForComponent(NZ_CONFIG_COMPONENT_NAME)\\n    .pipe(takeUntil(this.destroy$))\\n    .subscribe(() =\u003e {\\n    this.cdr.markForCheck();\\n});\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"è¡¨å•æ§ä»¶ä¸­ï¼Œå½“writeVauleæ‰§è¡Œæ—¶ï¼ˆå³å°†å˜åŒ–çš„æ•°æ®å†™å…¥è§†å›¾æ—¶ï¼‰ï¼Œæ ‡è®°ä¸ºéœ€æ£€æµ‹ã€‚\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-typescript\",\n          children: \"writeValue(value: number): void {\\n    this.value = value;\\n    this.setValue(value);\\n    this.updateDisplayValue(value);\\n    this.cdr.markForCheck();\\n}\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.h2, {\n        children: [\"ä½¿ç”¨\", _jsx(_components.a, {\n          href: \"https://angular.cn/api/core/NgZone\",\n          children: \"NgZone\"\n        })]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Zone æ˜¯è·¨å¼‚æ­¥ä»»åŠ¡è€ŒæŒä¹…å­˜åœ¨çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ngZoneåŸºäºzone.jsï¼Œæ˜¯Angularå˜æ›´æ£€æµ‹çš„åŸºç¡€ï¼ŒAngularé€šè¿‡zoneç›‘å¬åˆ°äº†å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä¾¿äºåœ¨å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œæ—¶è§¦å‘å˜æ›´æ£€æµ‹ã€‚\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ä½¿ç”¨\", _jsx(_components.code, {\n          children: \"ngZone.runOutsideAngular\"\n        }), \"è®©ä»£ç æ‰§è¡Œä¸è§¦å‘æ–°çš„å˜æ›´æ£€æµ‹ï¼Œåœ¨è°ƒç”¨\", _jsx(_components.code, {\n          children: \"run\"\n        }), \"å°†è¿™äº›ä»»åŠ¡é‡æ–°è¿›å…¥Angular zone\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-typescript\",\n          children: \"this.ngZone.runOutsideAngular(() =\u003e {\\n      fromEvent\u003cMouseEvent\u003e(this.elementRef.nativeElement, 'click')\\n        .pipe(takeUntil(this.destroy$))\\n        .subscribe(event =\u003e {\\n          /** prevent label click triggered twice. **/\\n          event.stopPropagation();\\n          event.preventDefault();\\n          if (this.nzDisabled || this.isChecked) {\\n            return;\\n          }\\n          this.ngZone.run(() =\u003e {\\n            if (this.nzRadioService) {\\n              this.nzRadioService.select(this.nzValue);\\n            }\\n            if (this.isNgModel) {\\n              this.isChecked = true;\\n              this.onChange(true);\\n            }\\n            this.cdr.markForCheck();\\n          });\\n        });\\n    });\\n\"\n        })\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"å¯¹templateRefä¼ å‚çš„å¤„ç†\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"Zorroçš„ç»„ä»¶ä¸­å¾ˆå¤šæ”¯æŒ\", _jsx(_components.code, {\n          children: \"string | TemplateRef\u003cvoid\u003e\"\n        }), \"è¿™ç§ç±»å‹çš„ä¼ å‚ï¼Œç”¨äºå°†å­—ç¬¦ä¸²æˆ–æ¨¡æ¿æ¤å…¥ç»„ä»¶è§†å›¾ã€‚angularæœ‰ä¸€ä¸ª\", _jsx(_components.a, {\n          href: \"https://angular.cn/api/common/NgTemplateOutlet\",\n          children: \"NgTemplateOutlet\"\n        }), \"æŒ‡ä»¤ï¼Œç”¨äºå°†templateRefæ’å…¥è§†å›¾ï¼Œä¸ºäº†åŒæ—¶å¤„ç†TemplateRefå’Œstringç±»å‹ï¼Œzorroä¸­å°è£…äº†ä¸€ä¸ªç±»ä¼¼çš„æŒ‡ä»¤\", _jsx(_components.code, {\n          children: \"nzStringTemplateOutlet\"\n        }), \"ã€‚\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"æ ¸å¿ƒä»£ç ä¸º\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-typescript\",\n          children: \"constructor(private viewContainer: ViewContainerRef, private templateRef: TemplateRef\u003cNzSafeAny\u003e) {}\\n\\nprivate recreateView(): void {\\n    this.viewContainer.clear();\\n    const isTemplateRef = this.nzStringTemplateOutlet instanceof TemplateRef;\\n    const templateRef = (isTemplateRef ? this.nzStringTemplateOutlet : this.templateRef) as NzSafeAny;\\n    this.embeddedViewRef = this.viewContainer.createEmbeddedView(\\n    templateRef,\\n    isTemplateRef ? this.nzStringTemplateOutletContext : this.context\\n    );\\n}\\n  \\nngOnChanges(changes: SimpleChanges): void {\\n    // ...\\n     if (recreateView) {\\n      /** recreate view when context shape or outlet change **/\\n      this.recreateView();\\n    } else {\\n    // ...\\n\\t}\\n}\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"åœ¨å¾ˆå¤šä¸ªç»„ä»¶æ–‡ä»¶é‡Œéƒ½èƒ½çœ‹åˆ°ä»–çš„ä½¿ç”¨ï¼Œå¤§æ¦‚å¦‚ä¸‹:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-typescript\",\n          children: \"\u003cng-container *nzStringTemplateOutlet=\\\"nzMessage\\\"\u003e{{ nzMessage }}\u003c/ng-container\u003e\\n@Input() nzMessage: string | TemplateRef\u003cvoid\u003e | null = null;\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"æŒ‡ä»¤æ˜¯Angularä¸­ç”¨äºå°è£…å…¬å…±è¡Œä¸ºçš„å¼ºæœ‰åŠ›å·¥å…·ï¼Œå®ƒæ‹¥æœ‰äº†å¯¹æ¨¡æ¿çš„æ§åˆ¶æƒï¼Œå’Œç»„ä»¶ä¸€æ ·æ‹¥æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥æ›´çµæ´»ã€‚\"\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"å¯¹è£…é¥°å™¨çš„ä½¿ç”¨\"\n      }), \"\\n\", _jsxs(_components.ol, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"å±æ€§è£…é¥°å™¨\"\n          }), \"\\n\", _jsx(_components.p, {\n            children: \"zorroä¸­åŸºæœ¬æ¯ä¸€ä¸ªç»„ä»¶éƒ½ä¼šçœ‹åˆ°@InputNumberã€@InputBooleanè¿™æ ·çš„è£…é¥°å™¨ä½¿ç”¨ï¼Œç”¨äºå¯¹è¾“å…¥å‚æ•°è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œé¿å…å› ç±»å‹é”™è¯¯å½±å“åé¢ç¨‹åºè¿è¡Œã€‚\"\n          }), \"\\n\", _jsx(_components.p, {\n            children: \"åœ¨typescriptä¸­å£°æ˜ä¸€ä¸ªå·¥å‚è£…é¥°å™¨çš„æ€è·¯å¤§è‡´å¦‚ä¸‹ï¼š\"\n          }), \"\\n\", _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-typescript\",\n              children: \"function name () {\\n    return function(target: IConfirmableDirective, propertyKey: string, descriptor: PropertyDescriptor) {\\n            // TODO å¯¹è£…é¥°å¯¹è±¡çš„å¤„ç†ï¼Œå¹¶è¿”å›æ–°çš„descriptor\\n    }\\n}\\n\\n\"\n            })\n          }), \"\\n\", _jsx(_components.p, {\n            children: \"zorroä¸­å®šä¹‰äº†ä¸€ä¸ªç”Ÿäº§å±æ€§è£…é¥°å™¨çš„å‡½æ•°ï¼Œä¼ å…¥è£…é¥°å™¨åç§°å’Œå¯¹å±æ€§çš„å¤„ç†å‡½æ•°ï¼Œå³å¯ç”Ÿæˆä¸€ä¸ªè£…é¥°å™¨ã€‚\"\n          }), \"\\n\", _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-typescript\",\n              children: \"function propDecoratorFactory\u003cT, D\u003e(\\n  name: string,\\n  fallback: (v: T) =\u003e D\\n): (target: NzSafeAny, propName: string) =\u003e void {\\n  function propDecorator(\\n    target: NzSafeAny,\\n    propName: string,\\n    originalDescriptor?: TypedPropertyDescriptor\u003cNzSafeAny\u003e\\n  ): NzSafeAny {\\n    const privatePropName = `$$__zorroPropDecorator__${propName}`;\\n\\n    if (Object.prototype.hasOwnProperty.call(target, privatePropName)) {\\n      warn(`The prop \\\"${privatePropName}\\\" is already exist, it will be overrided by ${name} decorator.`);\\n    }\\n\\n    Object.defineProperty(target, privatePropName, {\\n      configurable: true,\\n      writable: true\\n    });\\n\\n    return {\\n      get(): string {\\n        return originalDescriptor \u0026\u0026 originalDescriptor.get\\n          ? originalDescriptor.get.bind(this)()\\n          : this[privatePropName];\\n      },\\n      set(value: T): void {\\n        if (originalDescriptor \u0026\u0026 originalDescriptor.set) {\\n          originalDescriptor.set.bind(this)(fallback(value));\\n        }\\n        this[privatePropName] = fallback(value);\\n      }\\n    };\\n  }\\n\\n  return propDecorator;\\n}\\n\\nexport function InputBoolean(): NzSafeAny {\\n  return propDecoratorFactory('InputBoolean', toBoolean);\\n}\\n\\n\"\n            })\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"ä»å…¨å±€é…ç½®ä¸­è·å–é»˜è®¤æ•°å€¼çš„è£…é¥°å™¨\"\n          }), \"\\n\", _jsxs(_components.p, {\n            children: [\"zorroæä¾›äº†ä¸€ä¸ª\", _jsx(_components.code, {\n              children: \"NzConfigService\"\n            }), \"ç±»ï¼Œå¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼æˆ–è€…è°ƒç”¨apiçš„æ–¹å¼æ¥è®¾ç½®ç»„ä»¶çš„é»˜è®¤é…ç½®\"]\n          }), \"\\n\", _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-typescript\",\n              children: \"export function WithConfig\u003cT\u003e() {\\n  return function ConfigDecorator(\\n    target: NzSafeAny,\\n    propName: NzSafeAny,\\n    originalDescriptor?: TypedPropertyDescriptor\u003cT\u003e\\n  ): NzSafeAny {\\n    const privatePropName = `$$__zorroConfigDecorator__${propName}`;\\n\\n    Object.defineProperty(target, privatePropName, {\\n      configurable: true,\\n      writable: true,\\n      enumerable: false\\n    });\\n\\n    return {\\n      get(): T | undefined {\\n        const originalValue = originalDescriptor?.get ? originalDescriptor.get.bind(this)() : this[privatePropName];\\n        const assignedByUser = (this.propertyAssignCounter?.[propName] || 0) \u003e 1;\\n        const configValue = this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[propName];\\n        if (assignedByUser \u0026\u0026 isDefined(originalValue)) {\\n          return originalValue;\\n        } else {\\n          return isDefined(configValue) ? configValue : originalValue;\\n        }\\n      },\\n      set(value?: T): void {\\n        // If the value is assigned, we consider the newly assigned value as 'assigned by user'.\\n        this.propertyAssignCounter = this.propertyAssignCounter || {};\\n        this.propertyAssignCounter[propName] = (this.propertyAssignCounter[propName] || 0) + 1;\\n\\n        if (originalDescriptor?.set) {\\n          originalDescriptor.set.bind(this)(value!);\\n        } else {\\n          this[privatePropName] = value;\\n        }\\n      },\\n      configurable: true,\\n      enumerable: true\\n    };\\n  };\\n}\\n\\n\"\n            })\n          }), \"\\n\", _jsx(_components.p, {\n            children: \"åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å¦‚ä¸‹:\"\n          }), \"\\n\", _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-typescript\",\n              children: \"@Input() @WithConfig() nzSize: NzSizeLDSType | number = 'default';\\n\\n\"\n            })\n          }), \"\\n\", _jsx(_components.p, {\n            children: \"å¦‚ä½•ä¿è¯ä¼˜å…ˆçº§?\"\n          }), \"\\n\", _jsx(_components.p, {\n            children: \"ç»„ä»¶è°ƒç”¨\u003eç”¨æˆ·é…ç½®\u003eé»˜è®¤é…ç½®\"\n          }), \"\\n\", _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-typescript\",\n              children: \"const assignedByUser = (this.propertyAssignCounter?.[propName] || 0) \u003e 1;\\n\\n\"\n            })\n          }), \"\\n\", _jsx(_components.p, {\n            children: \"æ¯æ¬¡è°ƒç”¨setçš„æ—¶å€™ä¼š+1ï¼Œå¤§äº1è¯´æ˜ç”¨æˆ·è‡ªå·±è®¾ç½®äº†ï¼Œä½¿ç”¨ç”¨æˆ·è®¾ç½®çš„å€¼ï¼Œå¦åˆ™å…ˆè¯»é…ç½®é‡Œï¼Œæ²¡æœ‰çš„è¯å†è¯»ç»„ä»¶é‡Œçš„é»˜è®¤å€¼ã€‚\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        children: [\"ä½¿ç”¨\", _jsx(_components.a, {\n          href: \"https://v12.material.angular.io/cdk/overlay/overview\",\n          children: \"angular/cdk/overlay\"\n        }), \"å¯¹æµ®å±‚è¿›è¡Œç»Ÿä¸€ç®¡ç†\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ä¸ºä»€ä¹ˆéœ€è¦å¯¹æµ®å±‚è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Ÿ\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"è§„é¿çˆ¶å…ƒç´ æ ·å¼çš„å½±å“ï¼ˆæ¯”å¦‚transitionå±æ€§çš„å½±å“ï¼‰\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"åœ¨åˆ›å»ºå’Œé”€æ¯å¼¹å‡ºå±‚æ—¶ï¼Œé¿å…å½±å“åº”ç”¨ä¸»ä½“\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"æ–¹ä¾¿ z-index çš„è®¾ç½®ä¸ç®¡ç†\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"@angular/cdkçš„overlayæ¨¡å—æä¾›äº†ä¸€å¥—ç®¡ç†æµ®å±‚çš„åŠŸèƒ½\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ä½¿ç”¨å¤§è‡´å¦‚ä¸‹ï¼š\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-typescript\",\n          children: \"const containerPortal = new ComponentPortal\u003cBaseModalContainerComponent\u003e(\\n      ContainerComponent,\\n      config.nzViewContainerRef,\\n      injector\\n    );\\nconst containerRef = overlayRef.attach\u003cBaseModalContainerComponent\u003e(containerPortal);\\n\\n\"\n        })\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"title":"Ng-Zorroä»£ç é‰´èµ","date":"2021-12-10 13:55:00","description":"Ng-Zorroæ˜¯ant-designç»„ä»¶åº“çš„angularå®ç°ï¼Œå‰æ®µæ—¶é—´æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°†ç»„ä»¶åº“æ¢æˆZorroï¼Œå› æ­¤çœ‹äº†ä¸€ä¸‹ä»£ç å®ç°ï¼Œæ€»ç»“ä¸€äº›å¥½çš„å†™æ³•ã€‚"}},"frontMatter":{"title":"Ng-Zorroä»£ç é‰´èµ","date":"2021-12-10 13:55:00","description":"Ng-Zorroæ˜¯ant-designç»„ä»¶åº“çš„angularå®ç°ï¼Œå‰æ®µæ—¶é—´æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°†ç»„ä»¶åº“æ¢æˆZorroï¼Œå› æ­¤çœ‹äº†ä¸€ä¸‹ä»£ç å®ç°ï¼Œæ€»ç»“ä¸€äº›å¥½çš„å†™æ³•ã€‚"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"ng-zorro-study"},"buildId":"eQHzwepfXML6lMuZMdrtB","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>